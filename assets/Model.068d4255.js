import{L as Ge,F as de,B as lt,a as Ce,V as _e,Q as ht,O as dt,M as He,S as ct,T as ze,b as ut,c as pt,C as ft,d as Ue,e as we,G as ne,f as ce,D as gt,g as mt,h as yt,s as We,i as Se,j as D,k as bt,l as _t,W as wt,m as At,R as vt,A as xt,n as qe,o as Et,p as Ct,q as St,r as Le,t as Lt,P as Mt}from"./three.module.64a1d5bc.js";import{G as $t,O as Tt}from"./OrbitControls.f7c23052.js";import{_ as It,r as Dt}from"./index.d781384d.js";import{f as Ft,g as Pt,h as Ot,r as kt,o as Rt,c as Bt,a as Nt,w as Vt,j as B,k as Gt,l as Ht}from"./vendor.618724f8.js";/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.16.0
 * @author George Michael Brower
 * @license MIT
 */class ${constructor(e,i,n,r,s="div"){this.parent=e,this.object=i,this.property=n,this._disabled=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),$.nextNameID=$.nextNameID||0,this.$name.id="lil-gui-name-"+ ++$.nextNameID,this.$widget=document.createElement(s),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled||(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e)),this}options(e){const i=this.parent.add(this.object,this.property,e);return i.name(this._name),this.destroy(),i}min(e){return this}max(e){return this}step(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback),this.updateDisplay()}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class zt extends ${constructor(e,i,n){super(e,i,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function ue(t){let e,i;return(e=t.match(/(#|0x)?([a-f0-9]{6})/i))?i=e[2]:(e=t.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?i=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),!!i&&"#"+i}const Ut={isPrimitive:!0,match:t=>typeof t=="string",fromHexString:ue,toHexString:ue},K={isPrimitive:!0,match:t=>typeof t=="number",fromHexString:t=>parseInt(t.substring(1),16),toHexString:t=>"#"+t.toString(16).padStart(6,0)},Wt={isPrimitive:!1,match:Array.isArray,fromHexString(t,e,i=1){const n=K.fromHexString(t);e[0]=(n>>16&255)/255*i,e[1]=(n>>8&255)/255*i,e[2]=(255&n)/255*i},toHexString:([t,e,i],n=1)=>K.toHexString(t*(n=255/n)<<16^e*n<<8^i*n<<0)},qt={isPrimitive:!1,match:t=>Object(t)===t,fromHexString(t,e,i=1){const n=K.fromHexString(t);e.r=(n>>16&255)/255*i,e.g=(n>>8&255)/255*i,e.b=(255&n)/255*i},toHexString:({r:t,g:e,b:i},n=1)=>K.toHexString(t*(n=255/n)<<16^e*n<<8^i*n<<0)},Yt=[Ut,K,Wt,qt];class jt extends ${constructor(e,i,n,r){var s;super(e,i,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(s=this.initialValue,Yt.find(o=>o.match(s))),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const o=ue(this.$text.value);o&&this._setValueFromHexString(o)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const i=this._format.fromHexString(e);this.setValue(i)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class oe extends ${constructor(e,i,n){super(e,i,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",r=>{r.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{}),this.$disable=this.$button}}class Jt extends ${constructor(e,i,n,r,s,o){super(e,i,n,"number"),this._initInput(),this.min(r),this.max(s);const a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,i=!0){return this._step=e,this._stepExplicit=i,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let i=(e-this._min)/(this._max-this._min);i=Math.max(0,Math.min(i,1)),this.$fill.style.width=100*i+"%"}return this._inputFocused||(this.$input.value=e),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=h=>{const f=parseFloat(this.$input.value);isNaN(f)||(this._snapClampSetValue(f+h),this.$input.value=this.getValue())};let i,n,r,s,o,a=!1;const l=h=>{if(a){const f=h.clientX-i,u=h.clientY-n;Math.abs(u)>5?(h.preventDefault(),this.$input.blur(),a=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(f)>5&&d()}a||(o-=(h.clientY-r)*this._step*this._arrowKeyMultiplier(h),s+o>this._max?o=this._max-s:s+o<this._min&&(o=this._min-s),this._snapClampSetValue(s+o)),r=h.clientY},d=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",d)};this.$input.addEventListener("input",()=>{const h=parseFloat(this.$input.value);isNaN(h)||this.setValue(this._clamp(h))}),this.$input.addEventListener("keydown",h=>{h.code==="Enter"&&this.$input.blur(),h.code==="ArrowUp"&&(h.preventDefault(),e(this._step*this._arrowKeyMultiplier(h))),h.code==="ArrowDown"&&(h.preventDefault(),e(this._step*this._arrowKeyMultiplier(h)*-1))}),this.$input.addEventListener("wheel",h=>{this._inputFocused&&(h.preventDefault(),e(this._step*this._normalizeMouseWheel(h)))}),this.$input.addEventListener("mousedown",h=>{i=h.clientX,n=r=h.clientY,a=!0,s=this.getValue(),o=0,window.addEventListener("mousemove",l),window.addEventListener("mouseup",d)}),this.$input.addEventListener("focus",()=>{this._inputFocused=!0}),this.$input.addEventListener("blur",()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()})}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=u=>{const m=this.$slider.getBoundingClientRect();let p=(c=u,g=m.left,_=m.right,y=this._min,w=this._max,(c-g)/(_-g)*(w-y)+y);var c,g,_,y,w;this._snapClampSetValue(p)},i=u=>{e(u.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)};let r,s,o=!1;const a=u=>{u.preventDefault(),this._setDraggingStyle(!0),e(u.touches[0].clientX),o=!1},l=u=>{if(o){const m=u.touches[0].clientX-r,p=u.touches[0].clientY-s;Math.abs(m)>Math.abs(p)?a(u):(window.removeEventListener("touchmove",l),window.removeEventListener("touchend",d))}else u.preventDefault(),e(u.touches[0].clientX)},d=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",l),window.removeEventListener("touchend",d)},h=this._callOnFinishChange.bind(this);let f;this.$slider.addEventListener("mousedown",u=>{this._setDraggingStyle(!0),e(u.clientX),window.addEventListener("mousemove",i),window.addEventListener("mouseup",n)}),this.$slider.addEventListener("touchstart",u=>{u.touches.length>1||(this._hasScrollBar?(r=u.touches[0].clientX,s=u.touches[0].clientY,o=!0):a(u),window.addEventListener("touchmove",l),window.addEventListener("touchend",d))}),this.$slider.addEventListener("wheel",u=>{if(Math.abs(u.deltaX)<Math.abs(u.deltaY)&&this._hasScrollBar)return;u.preventDefault();const m=this._normalizeMouseWheel(u)*this._step;this._snapClampSetValue(this.getValue()+m),this.$input.value=this.getValue(),clearTimeout(f),f=setTimeout(h,400)})}_setDraggingStyle(e,i="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle("lil-gui-"+i,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:i,deltaY:n}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(i=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10),i+-n}_arrowKeyMultiplier(e){let i=this._stepExplicit?1:10;return e.shiftKey?i*=10:e.altKey&&(i/=10),i}_snap(e){const i=Math.round(e/this._step)*this._step;return parseFloat(i.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class Xt extends ${constructor(e,i,n,r){super(e,i,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(r)?r:Object.values(r),this._names=Array.isArray(r)?r:Object.keys(r),this._names.forEach(s=>{const o=document.createElement("option");o.innerHTML=s,this.$select.appendChild(o)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),i=this._values.indexOf(e);return this.$select.selectedIndex=i,this.$display.innerHTML=i===-1?e:this._names[i],this}}class Kt extends ${constructor(e,i,n){super(e,i,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",r=>{r.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let Me=!1;class Ae{constructor({parent:e,autoPlace:i=e===void 0,container:n,width:r,title:s="Controls",injectStyles:o=!0,touchStyles:a=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",l=>{l.code!=="Enter"&&l.code!=="Space"||(l.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(s),a&&this.domElement.classList.add("allow-touch-styles"),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),!Me&&o&&(function(l){const d=document.createElement("style");d.innerHTML=l;const h=document.querySelector("head link[rel=stylesheet], head style");h?document.head.insertBefore(d,h):document.head.appendChild(d)}('.lil-gui{--background-color:#1f1f1f;--text-color:#ebebeb;--title-background-color:#111;--title-text-color:#ebebeb;--widget-color:#424242;--hover-color:#4f4f4f;--focus-color:#595959;--number-color:#2cc9ff;--string-color:#a2db3c;--font-size:11px;--input-font-size:11px;--font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;--font-family-mono:Menlo,Monaco,Consolas,"Droid Sans Mono",monospace;--padding:4px;--spacing:4px;--widget-height:20px;--name-width:45%;--slider-knob-width:2px;--slider-input-width:27%;--color-input-width:27%;--slider-input-min-width:45px;--color-input-min-width:45px;--folder-indent:7px;--widget-padding:0 0 0 3px;--widget-border-radius:2px;--checkbox-size:calc(var(--widget-height)*0.75);--scrollbar-width:5px;background-color:var(--background-color);color:var(--text-color);font-family:var(--font-family);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:1;text-align:left;touch-action:manipulation;user-select:none;-webkit-user-select:none}.lil-gui,.lil-gui *{box-sizing:border-box;margin:0;padding:0}.lil-gui.root{display:flex;flex-direction:column;width:var(--width,245px)}.lil-gui.root>.title{background:var(--title-background-color);color:var(--title-text-color)}.lil-gui.root>.children{overflow-x:hidden;overflow-y:auto}.lil-gui.root>.children::-webkit-scrollbar{background:var(--background-color);height:var(--scrollbar-width);width:var(--scrollbar-width)}.lil-gui.root>.children::-webkit-scrollbar-thumb{background:var(--focus-color);border-radius:var(--scrollbar-width)}.lil-gui.force-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}.lil-gui.autoPlace{max-height:100%;position:fixed;right:15px;top:0;z-index:1001}.lil-gui .controller{align-items:center;display:flex;margin:var(--spacing) 0;padding:0 var(--padding)}.lil-gui .controller.disabled{opacity:.5}.lil-gui .controller.disabled,.lil-gui .controller.disabled *{pointer-events:none!important}.lil-gui .controller>.name{flex-shrink:0;line-height:var(--widget-height);min-width:var(--name-width);padding-right:var(--spacing);white-space:pre}.lil-gui .controller .widget{align-items:center;display:flex;min-height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.string input{color:var(--string-color)}.lil-gui .controller.boolean .widget{cursor:pointer}.lil-gui .controller.color .display{border-radius:var(--widget-border-radius);height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.color input[type=color]{cursor:pointer;height:100%;opacity:0;width:100%}.lil-gui .controller.color input[type=text]{flex-shrink:0;font-family:var(--font-family-mono);margin-left:var(--spacing);min-width:var(--color-input-min-width);width:var(--color-input-width)}.lil-gui .controller.option select{max-width:100%;opacity:0;position:absolute;width:100%}.lil-gui .controller.option .display{background:var(--widget-color);border-radius:var(--widget-border-radius);height:var(--widget-height);line-height:var(--widget-height);max-width:100%;overflow:hidden;padding-left:.55em;padding-right:1.75em;pointer-events:none;position:relative;word-break:break-all}.lil-gui .controller.option .display.active{background:var(--focus-color)}.lil-gui .controller.option .display:after{bottom:0;content:"\u2195";font-family:lil-gui;padding-right:.375em;position:absolute;right:0;top:0}.lil-gui .controller.option .widget,.lil-gui .controller.option select{cursor:pointer}.lil-gui .controller.number input{color:var(--number-color)}.lil-gui .controller.number.hasSlider input{flex-shrink:0;margin-left:var(--spacing);min-width:var(--slider-input-min-width);width:var(--slider-input-width)}.lil-gui .controller.number .slider{background-color:var(--widget-color);border-radius:var(--widget-border-radius);cursor:ew-resize;height:var(--widget-height);overflow:hidden;padding-right:var(--slider-knob-width);touch-action:pan-y;width:100%}.lil-gui .controller.number .slider.active{background-color:var(--focus-color)}.lil-gui .controller.number .slider.active .fill{opacity:.95}.lil-gui .controller.number .fill{border-right:var(--slider-knob-width) solid var(--number-color);box-sizing:content-box;height:100%}.lil-gui-dragging .lil-gui{--hover-color:var(--widget-color)}.lil-gui-dragging *{cursor:ew-resize!important}.lil-gui-dragging.lil-gui-vertical *{cursor:ns-resize!important}.lil-gui .title{--title-height:calc(var(--widget-height) + var(--spacing)*1.25);-webkit-tap-highlight-color:transparent;text-decoration-skip:objects;cursor:pointer;font-weight:600;height:var(--title-height);line-height:calc(var(--title-height) - 4px);outline:none;padding:0 var(--padding)}.lil-gui .title:before{content:"\u25BE";display:inline-block;font-family:lil-gui;padding-right:2px}.lil-gui .title:active{background:var(--title-background-color);opacity:.75}.lil-gui.root>.title:focus{text-decoration:none!important}.lil-gui.closed>.title:before{content:"\u25B8"}.lil-gui.closed>.children{opacity:0;transform:translateY(-7px)}.lil-gui.closed:not(.transition)>.children{display:none}.lil-gui.transition>.children{overflow:hidden;pointer-events:none;transition-duration:.3s;transition-property:height,opacity,transform;transition-timing-function:cubic-bezier(.2,.6,.35,1)}.lil-gui .children:empty:before{content:"Empty";display:block;font-style:italic;height:var(--widget-height);line-height:var(--widget-height);margin:var(--spacing) 0;opacity:.5;padding:0 var(--padding)}.lil-gui.root>.children>.lil-gui>.title{border-width:0;border-bottom:1px solid var(--widget-color);border-left:0 solid var(--widget-color);border-right:0 solid var(--widget-color);border-top:1px solid var(--widget-color);transition:border-color .3s}.lil-gui.root>.children>.lil-gui.closed>.title{border-bottom-color:transparent}.lil-gui+.controller{border-top:1px solid var(--widget-color);margin-top:0;padding-top:var(--spacing)}.lil-gui .lil-gui .lil-gui>.title{border:none}.lil-gui .lil-gui .lil-gui>.children{border:none;border-left:2px solid var(--widget-color);margin-left:var(--folder-indent)}.lil-gui .lil-gui .controller{border:none}.lil-gui input{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:0;border-radius:var(--widget-border-radius);color:var(--text-color);font-family:var(--font-family);font-size:var(--input-font-size);height:var(--widget-height);outline:none;width:100%}.lil-gui input:disabled{opacity:1}.lil-gui input[type=number],.lil-gui input[type=text]{padding:var(--widget-padding)}.lil-gui input[type=number]:focus,.lil-gui input[type=text]:focus{background:var(--focus-color)}.lil-gui input::-webkit-inner-spin-button,.lil-gui input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.lil-gui input[type=number]{-moz-appearance:textfield}.lil-gui input[type=checkbox]{appearance:none;-webkit-appearance:none;border-radius:var(--widget-border-radius);cursor:pointer;height:var(--checkbox-size);text-align:center;width:var(--checkbox-size)}.lil-gui input[type=checkbox]:checked:before{content:"\u2713";font-family:lil-gui;font-size:var(--checkbox-size);line-height:var(--checkbox-size)}.lil-gui button{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:1px solid var(--widget-color);border-radius:var(--widget-border-radius);color:var(--text-color);cursor:pointer;font-family:var(--font-family);font-size:var(--font-size);height:var(--widget-height);line-height:calc(var(--widget-height) - 4px);outline:none;text-align:center;text-transform:none;width:100%}.lil-gui button:active{background:var(--focus-color)}@font-face{font-family:lil-gui;src:url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff")}@media (pointer:coarse){.lil-gui.allow-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}}@media (hover:hover){.lil-gui .controller.color .display:hover:before{border:1px solid #fff9;border-radius:var(--widget-border-radius);bottom:0;content:" ";display:block;left:0;position:absolute;right:0;top:0}.lil-gui .controller.option .display.focus{background:var(--focus-color)}.lil-gui .controller.option .widget:hover .display{background:var(--hover-color)}.lil-gui .controller.number .slider:hover{background-color:var(--hover-color)}body:not(.lil-gui-dragging) .lil-gui .title:hover{background:var(--title-background-color);opacity:.85}.lil-gui .title:focus{text-decoration:underline var(--focus-color)}.lil-gui input:hover{background:var(--hover-color)}.lil-gui input:active{background:var(--focus-color)}.lil-gui input[type=checkbox]:focus{box-shadow:inset 0 0 0 1px var(--focus-color)}.lil-gui button:hover{background:var(--hover-color);border-color:var(--hover-color)}.lil-gui button:focus{border-color:var(--focus-color)}}'),Me=!0),n?n.appendChild(this.domElement):i&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this.domElement.addEventListener("keydown",l=>l.stopPropagation()),this.domElement.addEventListener("keyup",l=>l.stopPropagation())}add(e,i,n,r,s){if(Object(n)===n)return new Xt(this,e,i,n);const o=e[i];switch(typeof o){case"number":return new Jt(this,e,i,n,r,s);case"boolean":return new zt(this,e,i);case"string":return new Kt(this,e,i);case"function":return new oe(this,e,i)}console.error(`gui.add failed
	property:`,i,`
	object:`,e,`
	value:`,o)}addColor(e,i,n=1){return new jt(this,e,i,n)}addFolder(e){return new Ae({parent:this,title:e})}load(e,i=!0){return e.controllers&&this.controllers.forEach(n=>{n instanceof oe||n._name in e.controllers&&n.load(e.controllers[n._name])}),i&&e.folders&&this.folders.forEach(n=>{n._title in e.folders&&n.load(e.folders[n._title])}),this}save(e=!0){const i={controllers:{},folders:{}};return this.controllers.forEach(n=>{if(!(n instanceof oe)){if(n._name in i.controllers)throw new Error(`Cannot save GUI with duplicate property "${n._name}"`);i.controllers[n._name]=n.save()}}),e&&this.folders.forEach(n=>{if(n._title in i.folders)throw new Error(`Cannot save GUI with duplicate folder "${n._title}"`);i.folders[n._title]=n.save()}),i}open(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const i=this.$children.clientHeight;this.$children.style.height=i+"px",this.domElement.classList.add("transition");const n=s=>{s.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const r=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(i=>i.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(i=>{e=e.concat(i.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(i=>{e=e.concat(i.foldersRecursive())}),e}}const ae=new WeakMap;class Zt extends Ge{constructor(e){super(e);this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,i,n,r){const s=new de(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(i).catch(r)},n,r)}decodeDracoFile(e,i,n,r){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(i)}decodeGeometry(e,i){for(const l in i.attributeTypes){const d=i.attributeTypes[l];d.BYTES_PER_ELEMENT!==void 0&&(i.attributeTypes[l]=d.name)}const n=JSON.stringify(i);if(ae.has(e)){const l=ae.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((d,h)=>{r._callbacks[s]={resolve:d,reject:h},r.postMessage({type:"decode",id:s,taskConfig:i,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),ae.set(e,{key:n,promise:a}),a}_createGeometry(e){const i=new lt;e.index&&i.setIndex(new Ce(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],s=r.name,o=r.array,a=r.itemSize;i.setAttribute(s,new Ce(o,a))}return i}_loadLibrary(e,i){const n=new de(this.manager);return n.setPath(this.decoderPath),n.setResponseType(i),n.setWithCredentials(this.withCredentials),new Promise((r,s)=>{n.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",i=[];return e?i.push(this._loadLibrary("draco_decoder.js","text")):(i.push(this._loadLibrary("draco_wasm_wrapper.js","text")),i.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(i).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=Qt.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,i){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=i,n._taskLoad+=i,n})}_releaseTask(e,i){e._taskLoad-=e._taskCosts[i],delete e._callbacks[i],delete e._taskCosts[i]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Qt(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(h){t.onModuleLoaded=function(f){h({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,d=a.taskConfig;e.then(h=>{const f=h.draco,u=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const p=i(f,u,m,d),c=p.attributes.map(g=>g.array.buffer);p.index&&c.push(p.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:p},c)}catch(p){console.error(p),self.postMessage({type:"error",id:a.id,error:p.message})}finally{f.destroy(m),f.destroy(u)}});break}};function i(o,a,l,d){const h=d.attributeIDs,f=d.attributeTypes;let u,m;const p=a.GetEncodedGeometryType(l);if(p===o.TRIANGULAR_MESH)u=new o.Mesh,m=a.DecodeBufferToMesh(l,u);else if(p===o.POINT_CLOUD)u=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,u);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||u.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const c={index:null,attributes:[]};for(const g in h){const _=self[f[g]];let y,w;if(d.useUniqueIDs)w=h[g],y=a.GetAttributeByUniqueId(u,w);else{if(w=a.GetAttributeId(u,o[h[g]]),w===-1)continue;y=a.GetAttribute(u,w)}c.attributes.push(r(o,a,u,g,_,y))}return p===o.TRIANGULAR_MESH&&(c.index=n(o,a,u)),o.destroy(u),c}function n(o,a,l){const h=l.num_faces()*3,f=h*4,u=o._malloc(f);a.GetTrianglesUInt32Array(l,f,u);const m=new Uint32Array(o.HEAPF32.buffer,u,h).slice();return o._free(u),{array:m,itemSize:1}}function r(o,a,l,d,h,f){const u=f.num_components(),p=l.num_points()*u,c=p*h.BYTES_PER_ELEMENT,g=s(o,h),_=o._malloc(c);a.GetAttributeDataArrayForAllPoints(l,f,g,c,_);const y=new h(o.HEAPF32.buffer,_,p).slice();return o._free(_),{name:d,array:y,itemSize:u}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const $e=new _e,ei=new ht,Te=new _e;class se extends dt{constructor(e=document.createElement("div")){super();this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(i){i.element instanceof Element&&i.element.parentNode!==null&&i.element.parentNode.removeChild(i.element)})})}copy(e,i){return super.copy(e,i),this.element=e.element.cloneNode(!0),this}}se.prototype.isCSS3DObject=!0;class ti extends se{constructor(e){super(e);this.rotation2D=0}copy(e,i){return super.copy(e,i),this.rotation2D=e.rotation2D,this}}ti.prototype.isCSS3DSprite=!0;const M=new He,ii=new He;class ni{constructor(e={}){const i=this;let n,r,s,o;const a={camera:{fov:0,style:""},objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l;const d=document.createElement("div");d.style.transformStyle="preserve-3d",d.style.pointerEvents="none",l.appendChild(d),this.getSize=function(){return{width:n,height:r}},this.render=function(p,c){const g=c.projectionMatrix.elements[5]*o;a.camera.fov!==g&&(l.style.perspective=c.isPerspectiveCamera?g+"px":"",a.camera.fov=g),p.autoUpdate===!0&&p.updateMatrixWorld(),c.parent===null&&c.updateMatrixWorld();let _,y;c.isOrthographicCamera&&(_=-(c.right+c.left)/2,y=(c.top+c.bottom)/2);const T=(c.isOrthographicCamera?"scale("+g+")translate("+h(_)+"px,"+h(y)+"px)"+f(c.matrixWorldInverse):"translateZ("+g+"px)"+f(c.matrixWorldInverse))+"translate("+s+"px,"+o+"px)";a.camera.style!==T&&(d.style.transform=T,a.camera.style=T),m(p,p,c)},this.setSize=function(p,c){n=p,r=c,s=n/2,o=r/2,l.style.width=p+"px",l.style.height=c+"px",d.style.width=p+"px",d.style.height=c+"px"};function h(p){return Math.abs(p)<1e-10?0:p}function f(p){const c=p.elements;return"matrix3d("+h(c[0])+","+h(-c[1])+","+h(c[2])+","+h(c[3])+","+h(c[4])+","+h(-c[5])+","+h(c[6])+","+h(c[7])+","+h(c[8])+","+h(-c[9])+","+h(c[10])+","+h(c[11])+","+h(c[12])+","+h(-c[13])+","+h(c[14])+","+h(c[15])+")"}function u(p){const c=p.elements,g="matrix3d("+h(c[0])+","+h(c[1])+","+h(c[2])+","+h(c[3])+","+h(-c[4])+","+h(-c[5])+","+h(-c[6])+","+h(-c[7])+","+h(c[8])+","+h(c[9])+","+h(c[10])+","+h(c[11])+","+h(c[12])+","+h(c[13])+","+h(c[14])+","+h(c[15])+")";return"translate(-50%,-50%)"+g}function m(p,c,g,_){if(p.isCSS3DObject){const y=p.visible===!0&&p.layers.test(g.layers)===!0;if(p.element.style.display=y===!0?"":"none",y===!0){p.onBeforeRender(i,c,g);let w;p.isCSS3DSprite?(M.copy(g.matrixWorldInverse),M.transpose(),p.rotation2D!==0&&M.multiply(ii.makeRotationZ(p.rotation2D)),p.matrixWorld.decompose($e,ei,Te),M.setPosition($e),M.scale(Te),M.elements[3]=0,M.elements[7]=0,M.elements[11]=0,M.elements[15]=1,w=u(M)):w=u(p.matrixWorld);const T=p.element,Z=a.objects.get(p);if(Z===void 0||Z.style!==w){T.style.transform=w;const Q={style:w};a.objects.set(p,Q)}T.parentNode!==d&&d.appendChild(T),p.onAfterRender(i,c,g)}}for(let y=0,w=p.children.length;y<w;y++)m(p.children[y],c,g)}}}function Ie(t){const e=new ct({map:new ze().load("./mark/light-point.png"),transparent:!0}),i=new ut(e);i.scale.set(30,30,1);const n=new _e;return t.getWorldPosition(n),i.position.copy(n),i}class si extends Ge{constructor(e){super(e)}load(e,i,n,r){const s=this,o=new de(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){let l;try{l=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),l=JSON.parse(a.substring(65,a.length-2))}const d=s.parse(l);i&&i(d)},n,r)}parse(e){return new Ye(e)}}class Ye{constructor(e){this.type="Font",this.data=e}generateShapes(e,i=100){const n=[],r=ri(e,i,this.data);for(let s=0,o=r.length;s<o;s++)Array.prototype.push.apply(n,r[s].toShapes());return n}}function ri(t,e,i){const n=Array.from(t),r=e/i.resolution,s=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*r,o=[];let a=0,l=0;for(let d=0;d<n.length;d++){const h=n[d];if(h===`
`)a=0,l-=s;else{const f=oi(h,r,a,l,i);a+=f.offsetX,o.push(f.path)}}return o}function oi(t,e,i,n,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");return}const o=new pt;let a,l,d,h,f,u,m,p;if(s.o){const c=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let g=0,_=c.length;g<_;)switch(c[g++]){case"m":a=c[g++]*e+i,l=c[g++]*e+n,o.moveTo(a,l);break;case"l":a=c[g++]*e+i,l=c[g++]*e+n,o.lineTo(a,l);break;case"q":d=c[g++]*e+i,h=c[g++]*e+n,f=c[g++]*e+i,u=c[g++]*e+n,o.quadraticCurveTo(f,u,d,h);break;case"b":d=c[g++]*e+i,h=c[g++]*e+n,f=c[g++]*e+i,u=c[g++]*e+n,m=c[g++]*e+i,p=c[g++]*e+n,o.bezierCurveTo(f,u,m,p,d,h);break}}return{offsetX:s.ha*e,path:o}}Ye.prototype.isFont=!0;const pe=250,ai=new ft(pe,pe,10,128),li=new Ue({color:4372867}),je=new we(ai,li);je.translateY(-5);const ve=new ne;ve.add(je);const hi=new si;hi.load("./font/helvetiker_bold.typeface.json",t=>{const e=new ce({color:16777215,side:gt}),i=t.generateShapes("LEXUS UX300E",30),n=new mt(i),r=new we(n,e);r.position.z=pe,r.position.x=-120,ve.add(r)});const di=t=>{const e=new yt().setPath("./skybox/").load(["li.jpg","xin.jpg","chu.jpg","xing.jpg","top.jpg","bottom.jpg"]);e.encoding=We,t.traverse(i=>{i.type==="Mesh"&&(i.name.slice(0,4)==="\u9AD8\u5149\u91D1\u5C5E"?i.material=new Se({color:i.material.color,metalness:1,roughness:.2,envMapIntensity:1}):i.name.slice(0,2)==="\u5916\u58F3"?i.material=new D({color:i.material.color,clearcoat:1,clearcoatRoughness:.01,metalness:.9,roughness:.5,envMapIntensity:2.5}):i.name.slice(0,2)==="\u73BB\u7483"?i.material=new D({color:16777215,metalness:0,roughness:0,transparent:!0,transmission:.99}):i.name.slice(0,3)==="\u540E\u89C6\u955C"?i.material=new Se({color:16777215,metalness:1,roughness:0,envMapIntensity:1}):i.name.slice(0,2)==="\u8F6E\u80CE"?(i.material.color.set(0),i.material.normalScale.set(2,2),i.material.metalness=0,i.material.roughness=.6):i.name.slice(0,3)==="\u524D\u706F\u7F69"?i.material=new D({color:16777215,metalness:0,roughness:0,envMapIntensity:1,transmission:.9,transparent:!0,envMapIntensity:2.5}):i.name.slice(0,4)==="\u5C3E\u706F\u706F\u7F69"?i.material=new D({color:16711680,metalness:0,roughness:0,transmission:.5,transparent:!0,envMapIntensity:2.5}):i.name.slice(0,5)==="\u5C3E\u706F\u7B2C\u4E8C\u5C42"?i.material=new D({color:4456448,metalness:0,roughness:0,transmission:.5,transparent:!0}):i.name.slice(0,4)==="\u5C3E\u706F\u53D1\u5149"?i.material=new ce({color:6684672}):i.name.slice(0,5)==="\u5C3E\u706F\u7B2C\u4E09\u5C42"?i.material=new ce({color:421068800}):i.name.slice(0,2)==="\u5851\u6599"&&(i.material=new D({color:65793,metalness:0,roughness:.8,envMapIntensity:1})),t.getObjectByName("\u5929\u7A97\u9ED1\u73BB\u7483").material=new D({color:0,metalness:0,roughness:0,envMapIntensity:1,transmission:.2,transparent:!0}),t.getObjectByName("\u8F66\u5EA7").material=new D({color:131586,metalness:0,roughness:.6,envMapIntensity:1}),i.material.envMap=e)})},P=new ne,Je=new $t,Xe=new Zt;Xe.setDecoderPath("./draco/");Je.setDRACOLoader(Xe);let G=null,F=null;Je.load("./gltf/2.gltf",t=>{di(t.scene),P.add(ve);const e=new ne;e.name="LFDoorGroup";const i=new ne;i.name="LBDoorGroup",G=t.scene.getObjectByName("\u5DE6\u524D\u95E8"),F=t.scene.getObjectByName("\u5DE6\u540E\u95E8");const n=Ie(G);n.name="LFSprite",n.position.x+=340,n.position.y+=-70,n.position.z+=-80,e.add(n);const r=Ie(F);r.name="LBSprite",r.position.x+=200,r.position.y+=-100,r.position.z+=-70,i.add(r);let s=0;function o(){s+=.01,s<.5?(n.scale.x=30*(1+s),n.scale.y=30*(1+s),r.scale.x=30*(1+s),r.scale.y=30*(1+s)):s>=.5&&s<1?(n.scale.x=30*(2-s),n.scale.y=30*(2-s),r.scale.x=30*(2-s),r.scale.y=30*(2-s)):s=0,requestAnimationFrame(o)}o();const a=document.getElementsByClassName("mark")[0],l=new se(a);a.style.visibility="visible",a.style.pointerEvents="none",l.position.copy(n.position),l.scale.set(.5,.5,1),l.position.set(0,0,0),l.position.x-=220,l.position.y+=50,l.rotateY(-Math.PI/2),P.add(l);const d=document.getElementsByClassName("mark")[1],h=new se(d);d.style.visibility="visible",d.style.pointerEvents="none",h.position.copy(n.position),h.scale.set(.5,.5,1),h.position.set(0,0,0),h.position.z-=120,h.position.y+=50,h.rotateY(Math.PI),P.add(h),G.add(e),F.add(i),P.add(t.scene),console.log(t.scene)},t=>{},t=>{console.log({err:t})});const H=new ni;H.setSize(window.innerWidth,window.innerHeight);H.domElement.style.position="absolute";H.domElement.style.top="0px";H.domElement.style.left="0px";H.domElement.style.pointerEvents="none";document.body.appendChild(H.domElement);const Ke={envMapIntensity:.5,transmission:.5},xe=new Ae;xe.domElement.style="position: absolute; top: 0; right: 0; width: 300px;";const Ze=xe.addFolder("\u5916\u58F3");Ze.open();Ze.add(Ke,"envMapIntensity",0,1).onChange(t=>{P.traverse(e=>{e.type==="Mesh"&&e.name.slice(0,2)==="\u5916\u58F3"&&(e.material.envMapIntensity=t)})});const Qe=xe.addFolder("\u73BB\u7483");Qe.open();Qe.add(Ke,"transmission",0,1).onChange(t=>{P.traverse(e=>{e.type==="Mesh"&&e.name.slice(0,2)==="\u73BB\u7483"&&(e.material.transmission=t)})});const C=new bt,et=window.innerWidth,tt=window.innerHeight,De=et/tt,ee=200,O=new _t(-ee*De,ee*De,ee,-ee,1,3e3);O.position.set(292,223,185);O.lookAt(C.position);const k=new wt({antialias:!0,alpha:!0});k.setPixelRatio(window.devicePixelRatio);k.setSize(et,tt);k.outputEncoding=We;k.setClearColor(65535,1);const re=new Tt(O,k.domElement);re.minZoom=.5;re.maxZoom=1;re.maxPolarAngle=Math.PI/2;re.minPolarAngle=0;let S=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:globalThis||(typeof exports!="undefined"?exports:{});S.requestAnimationFrame;let ci=S.cancelAnimationFrame||(t=>S.clearTimeout(t));const N=function(){if(typeof process!="undefined"&&process.hrtime!==void 0&&(!process.versions||process.versions.electron===void 0))return function(){const t=process.hrtime();return t[0]*1e3+t[1]/1e6};if(S.performance!==void 0&&S.performance.now!==void 0)return S.performance.now.bind(S.performance);{const t=S.performance&&S.performance.timing&&S.performance.timing.navigationStart?S.performance.timing.navigationStart:Date.now();return function(){return Date.now()-t}}}();/**
 * Lightweight, effecient and modular ES6 version of tween.js
 * @copyright 2019 @dalisoft and es6-tween contributors
 * @license MIT
 * @namespace TWEEN
 * @example
 * // ES6
 * const {add, remove, isRunning, autoPlay} = TWEEN
 */const U=[];let it=!1,ui,pi=!0;const te=t=>{let e=U.indexOf(t);e>-1&&U.splice(e,1),U.push(t)},q=t=>{const e=U.indexOf(t);e!==-1&&U.splice(e,1),U.length===0&&(ci(ui),it=!1)},fi=()=>it,gi=()=>pi,I={},j={Linear:{None(t){return t}},Quadratic:{In(t){return Math.pow(t,2)},Out(t){return t*(2-t)},InOut(t){return(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)}},Cubic:{In(t){return Math.pow(t,3)},Out(t){return--t*t*t+1},InOut(t){return(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)}},Quartic:{In(t){return Math.pow(t,4)},Out(t){return 1- --t*t*t*t},InOut(t){return(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)}},Quintic:{In(t){return Math.pow(t,5)},Out(t){return--t*t*t*t*t+1},InOut(t){return(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In(t){return 1-Math.cos(t*Math.PI/2)},Out(t){return Math.sin(t*Math.PI/2)},InOut(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In(t){return t===0?0:Math.pow(1024,t-1)},Out(t){return t===1?1:1-Math.pow(2,-10*t)},InOut(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In(t){return 1-Math.sqrt(1-t*t)},Out(t){return Math.sqrt(1- --t*t)},InOut(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In(t){return t*t*((1.70158+1)*t-1.70158)},Out(t){return--t*t*((1.70158+1)*t+1.70158)+1},InOut(t){const e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In(t){return 1-j.Bounce.Out(1-t)},Out(t){let e=2.75,i=7.5625;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},InOut(t){return t<.5?j.Bounce.In(t*2)*.5:j.Bounce.Out(t*2-1)*.5+.5}},Stepped:{steps:t=>e=>(e*t|0)/t}},mi=50/3,yi=250,Fe="_chainedTweens",ie="Callback",bi="update",_i="complete",wi="start",Ai="repeat",vi="reverse",xi="pause",Ei="play",Ci="restart",Si="stop",Li="seek",V="STRING_PROP",Mi=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function nt(t){if(t&&t.nodeType||t===void 0||typeof t!="object")return t;if(Array.isArray(t))return[].concat(t);if(typeof t=="object"){let e={};for(let i in t)e[i]=nt(t[i]);return e}return t}const $i=t=>isNaN(+t)||(t[0]==="+"||t[0]==="-")&&t[1]==="="||t===""||t===" ",Ti=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,Ii=(t,e)=>{let i,n,r;e.length===3&&(i=e[0],n=e[1],r=e[2],e=i+i+n+n+r+r);let s=parseInt(e,16);return i=s>>16&255,n=s>>8&255,r=s&255,"rgb("+i+", "+n+", "+r+")"};function Y(t){if(t&&t.splice&&t.isString||typeof t!="string"||t.charAt(1)==="=")return t;const e=t.replace(Ti,Ii).match(Mi).map(i=>$i(i)?i:+i);return e.isString=!0,e}function J(t,e,i,n){const r=i[t],s=n[t];if(r===s)return!0;if(Array.isArray(r)&&Array.isArray(s)&&r.length===s.length)for(let o=0,a=s.length;o<a;o++){const l=r[o],d=s[o];l===d||typeof l=="number"&&typeof d=="number"||J(o,e[t],r,s)}if(!(typeof r=="number"&&typeof s=="number")){if(!(r&&r.splice&&r.isString&&s&&s.splice&&s.isString)){if(typeof r=="string"&&Array.isArray(s)){const o=Y(r),a=s.map(Y);return i[t]=o,n[t]=a,!0}else if(typeof r=="string"||typeof s=="string"){let o=Array.isArray(r)&&r[0]===V?r:Y(r),a=Array.isArray(s)&&s[0]===V?s:Y(s);if(o===void 0)return;let l=1;for(;l<o.length;)o[l]===a[l]&&typeof o[l-1]=="string"?(o.splice(l-1,2,o[l-1]+o[l]),a.splice(l-1,2,a[l-1]+a[l])):l++;return l=0,o[0]===V&&o.shift(),a[0]===V&&a.shift(),i[t]=o,n[t]=a,!0}else if(typeof r=="object"&&typeof s=="object"){if(Array.isArray(r)&&!r.isString)return r.map((o,a)=>J(a,e[t],r,s));for(let o in s)J(o,e[t],r,s);return!0}}}return!1}const Di="rgb(",fe="rgba(",z=(t,e,i=Di)=>typeof t[e]=="number"&&(t[e-1]===i||t[e-3]===i||t[e-5]===i);function ge(t,e,i,n,r,s,o){const a=o?i:i[t];let l=o?n:n[t];if(l===void 0)return a;if(a===void 0||typeof a=="string"||a===l)return l;if(typeof a=="object"&&typeof l=="object"){if(!a||!l)return e[t];if(typeof a=="object"&&!!a&&a.isString&&l&&l.splice&&l.isString){let d="";for(let h=0,f=a.length;h<f;h++)if(a[h]!==l[h]||typeof a[h]!="number"||typeof l[h]=="number"){const u=typeof a[h]=="number"&&typeof l[h]=="string"&&l[h][1]==="=";let m=typeof a[h]!="number"?a[h]:u?a[h]+parseFloat(l[h][0]+l[h].substr(2))*r:a[h]+(l[h]-a[h])*r;(z(a,h)||z(a,h,fe))&&(m|=0),d+=m,u&&s===1&&(a[h]=a[h]+parseFloat(l[h][0]+l[h].substr(2)))}else d+=a[h];return o||(e[t]=d),d}else if(Array.isArray(a)&&a[0]!==V)for(let d=0,h=a.length;d<h;d++)a[d]===l[d]||typeof e[t]=="string"||ge(d,e[t],a,l,r,s);else if(typeof a=="object"&&!!a&&!a.isString)for(let d in a)a[d]!==l[d]&&ge(d,e[t],a,l,r,s)}else if(typeof a=="number"){const d=typeof l=="string";e[t]=d?a+parseFloat(l[0]+l.substr(2))*r:a+(l-a)*r,d&&s===1&&(i[t]=e[t])}else typeof l=="function"&&(e[t]=l(r));return e[t]}const Fi=/([.[])/g,Pi=/\]/g,le=function(t,e){const i=t[e],n=e.replace(Pi,"").split(Fi),r=n.length-1;let s=Array.isArray(t),o=typeof t=="object"&&!s;return o?(t[e]=null,delete t[e]):s&&t.splice(e,1),n.reduce((a,l,d)=>{s&&l!=="."&&l!=="["&&(l*=1);let f=n[d+1]==="[";if(l==="."||l==="[")return l==="."?(o=!0,s=!1):l==="["&&(o=!1,s=!0),a;if(a[l]===void 0){if(s||o)return a[l]=d===r?i:s||f?[]:o?{}:null,o=s=!1,a[l]}else if(a[l]!==void 0)return d===r&&(a[l]=i),a[l];return a},t)},Pe=function(t){if(typeof t=="object"&&!!t){for(let e in t)if(e.indexOf(".")!==-1||e.indexOf("[")!==-1)le(t,e);else if(typeof t[e]=="object"&&!!t[e]){let i=t[e];for(let n in i)if(n.indexOf(".")!==-1||n.indexOf("[")!==-1)le(i,n);else if(typeof i[n]=="object"&&!!i[n]){let r=i[n];for(let s in r)(s.indexOf(".")!==-1||s.indexOf("[")!==-1)&&le(r,s)}}}return t},E={Linear(t,e,i){const n=t.length-1,r=n*e,s=Math.floor(r),o=E.Utils.Linear;return e<0?o(t[0],t[1],r,i):e>1?o(t[n],t[n-1],n-r,i):o(t[s],t[s+1>n?n:s+1],r-s,i)},Bezier(t,e,i){let n=E.Utils.Reset(i),r=t.length-1,s=Math.pow,o=E.Utils.Bernstein,a=Array.isArray(n);for(let l=0;l<=r;l++)if(typeof n=="number")n+=s(1-e,r-l)*s(e,l)*t[l]*o(r,l);else if(a)for(let d=0,h=n.length;d<h;d++)typeof n[d]=="number"?n[d]+=s(1-e,r-l)*s(e,l)*t[l][d]*o(r,l):n[d]=t[l][d];else if(typeof n=="object")for(let d in n)typeof n[d]=="number"?n[d]+=s(1-e,r-l)*s(e,l)*t[l][d]*o(r,l):n[d]=t[l][d];else if(typeof n=="string"){let d="",h=Math.round(r*e),f=t[h];for(let u=1,m=f.length;u<m;u++)d+=f[u];return d}return n},CatmullRom(t,e,i){const n=t.length-1;let r=n*e,s=Math.floor(r);const o=E.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(s=Math.floor(r=n*(1+e))),o(t[(s-1+n)%n],t[s],t[(s+1)%n],t[(s+2)%n],r-s,i)):e<0?o(t[1],t[1],t[0],t[0],-e,i):e>1?o(t[n-1],t[n-1],t[n],t[n],(e|0)-e,i):o(t[s?s-1:0],t[s],t[n<s+1?n:s+1],t[n<s+2?n:s+2],r-s,i)},Utils:{Linear(t,e,i,n){if(t===e||typeof t=="string"){if(e.length&&e.splice&&e.isString){e="";for(let r=0,s=t.length;r<s;r++)e+=t[r]}return e}else{if(typeof t=="number")return typeof t=="function"?t(i):t+(e-t)*i;if(typeof t=="object"){if(t.length!==void 0){const r=typeof t[0]=="string"||t.isString;if(r||t[0]===V){let s="";for(let o=r?0:1,a=t.length;o<a;o++){let l=i===0?t[o]:i===1?e[o]:typeof t[o]=="number"?t[o]+(e[o]-t[o])*i:e[o];(i>0&&i<1&&z(t,o)||z(t,o,fe))&&(l|=0),s+=l}return s}else if(n&&n.length&&n.splice)for(let s=0,o=n.length;s<o;s++)n[s]=E.Utils.Linear(t[s],e[s],i,n[s])}else for(const r in n)n[r]=E.Utils.Linear(t[r],e[r],i,n[r]);return n}}},Reset(t){if(Array.isArray(t)){for(let e=0,i=t.length;e<i;e++)t[e]=E.Utils.Reset(t[e]);return t}else if(typeof t=="object"){for(let e in t)t[e]=E.Utils.Reset(t[e]);return t}else if(typeof t=="number")return 0;return t},Bernstein(t,e){const i=E.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){const t=[1];return e=>{let i=1;if(t[e])return t[e];for(let n=e;n>1;n--)i*=n;return t[e]=i,i}}(),CatmullRom(t,e,i,n,r,s){if(typeof t=="string")return e;if(typeof t=="number"){const o=(i-t)*.5,a=(n-e)*.5,l=r*r,d=r*l;return(2*e-2*i+o+a)*d+(-3*e+3*i-2*o-a)*l+o*r+e}else if(typeof t=="object"){if(t.length!==void 0){if(t[0]===V){let o="";for(let a=1,l=t.length;a<l;a++){let d=typeof t[a]=="number"?E.Utils.CatmullRom(t[a],e[a],i[a],n[a],r):n[a];(z(t,a)||z(t,a,fe))&&(d|=0),o+=d}return o}for(let o=0,a=s.length;o<a;o++)s[o]=E.Utils.CatmullRom(t[o],e[o],i[o],n[o],r,s[o])}else for(const o in s)s[o]=E.Utils.CatmullRom(t[o],e[o],i[o],n[o],r,s[o]);return s}}}},X={};function Oe(t,e,i){if(!t||!t.nodeType)return e;const n=t.queueID||"q_"+Date.now();t.queueID||(t.queueID=n);const r=X[n];if(r){if(r.object===e&&t===r.tween.node&&i._startTime===r.tween._startTime)q(r.tween);else if(typeof e=="object"&&!!e&&!!r.object){for(let s in e)s in r.object&&(i._startTime===r.tween._startTime?delete r.object[s]:r.propNormaliseRequired=!0);Object.assign(r.object,e)}return r.object}return typeof e=="object"&&!!e?(X[n]={tween:i,object:e,propNormaliseRequired:!1},X[n].object):e}function Oi(t,e,i){return e?t?typeof window!="undefined"&&t===window||typeof document!="undefined"&&t===document?[t]:typeof t=="string"?!!document.querySelectorAll&&document.querySelectorAll(t):Array.isArray(t)?t:t.nodeType?[t]:i?t:[]:null:t?typeof window!="undefined"&&t===window||typeof document!="undefined"&&t===document?t:typeof t=="string"?!!document.querySelector&&document.querySelector(t):Array.isArray(t)?t[0]:t.nodeType||i?t:null:null}let ke=0;const he=j.Linear.None;class L{static fromTo(e,i,n,r={}){r.quickRender=r.quickRender?r.quickRender:!n;const s=new L(e,i).to(n,r);return r.quickRender&&(s.render().update(s._startTime),s._rendered=!1,s._onStartCallbackFired=!1),s}static to(e,i,n){return L.fromTo(e,null,i,n)}static from(e,i,n){return L.fromTo(e,i,null,n)}constructor(e,i){return this.id=ke++,!!e&&typeof e=="object"&&!i&&!e.nodeType?(i=this.object=e,e=null):!!e&&(e.nodeType||e.length||typeof e=="string")&&(e=this.node=Oi(e),i=this.object=Oe(e,i,this)),this._valuesEnd=null,this._valuesStart=Array.isArray(i)?[]:{},this._duration=1e3,this._easingFunction=he,this._easingReverse=he,this._interpolationFunction=E.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}setMaxListener(e=15){return this._maxListener=e,this}on(e,i){const{_maxListener:n}=this,r=e+ie;for(let s=0;s<n;s++){const o=r+s;if(!this[o]){this[o]=i;break}}return this}once(e,i){const{_maxListener:n}=this,r=e+ie;for(let s=0;s<n;s++){const o=r+s;if(!this[o]){this[o]=(...a)=>{i.apply(this,a),this[o]=null};break}}return this}off(e,i){const{_maxListener:n}=this,r=e+ie;for(let s=0;s<n;s++){const o=r+s;this[o]===i&&(this[o]=null)}return this}emit(e,i,n,r){const{_maxListener:s}=this,o=e+ie;if(!this[o+0])return this;for(let a=0;a<s;a++){const l=o+a;this[l]&&this[l](i,n,r)}return this}isPlaying(){return this._isPlaying}isStarted(){return this._onStartCallbackFired}reverse(e){const{_reversed:i}=this;return this._reversed=e!==void 0?e:!i,this}reversed(){return this._reversed}pause(){return this._isPlaying?(this._isPlaying=!1,q(this),this._pausedTime=N(),this.emit(xi,this.object)):this}play(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=N()-this._pausedTime,this._initTime=this._startTime,te(this),this._pausedTime=N(),this.emit(Ei,this.object))}restart(e){return this._repeat=this._r,this.reassignValues(),te(this),this.emit(Ci,this.object)}seek(e,i){const{_duration:n,_initTime:r,_startTime:s,_reversed:o}=this;let a=r+e;return this._isPlaying=!0,a<s&&s>=r&&(this._startTime-=n,this._reversed=!o),this.update(e,!1),this.emit(Li,e,this.object),i?this:this.pause()}duration(e){return this._duration=typeof e=="function"?e(this._duration):e,this}to(e,i=1e3,n){if(this._valuesEnd=e,typeof i=="number"||typeof i=="function")this._duration=typeof i=="function"?i(this._duration):i;else if(typeof i=="object"){for(const r in i)if(typeof this[r]=="function"){const[s=null,o=null,a=null,l=null]=Array.isArray(i[r])?i[r]:[i[r]];this[r](s,o,a,l)}}return this}render(){if(this._rendered)return this;let{_valuesStart:e,_valuesEnd:i,object:n,node:r,InitialValues:s}=this;if(Pe(n),Pe(i),r&&r.queueID&&X[r.queueID]){const o=X[r.queueID];if(o.propNormaliseRequired&&o.tween!==this){for(const a in i)o.tween._valuesEnd[a];o.normalisedProp=!0,o.propNormaliseRequired=!1}}if(r&&s&&(!n||Object.keys(n).length===0?n=this.object=Oe(r,s(r,i),this):(!i||Object.keys(i).length===0)&&(i=this._valuesEnd=s(r,n))),!e.processed){for(const o in i){let a=n&&n[o]&&nt(n[o]),l=i[o];if(!(I[o]&&I[o].init&&(I[o].init.call(this,a,l,o,n),a===void 0&&e[o]&&(a=e[o]),I[o].skipProcess))&&!(typeof a=="number"&&isNaN(a)||a===null||l===null||a===!1||l===!1||a===void 0||l===void 0||a===l)){if(e[o]=a,Array.isArray(l))if(Array.isArray(a))l.isString&&n[o].isString&&!a.isString?a.isString=!0:J(o,n,e,i);else{l.unshift(a);for(let d=0,h=l.length;d<h;d++)typeof l[d]=="string"&&(l[d]=Y(l[d]))}else J(o,n,e,i);typeof a=="number"&&typeof l=="string"&&l[1]}}e.processed=!0}return L.Renderer&&this.node&&L.Renderer.init&&(L.Renderer.init.call(this,n,e,i),this.__render=!0),this._rendered=!0,this}start(e){return this._startTime=e!==void 0?typeof e=="string"?N()+parseFloat(e):e:N(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,te(this),this}stop(){let{_isPlaying:e,_isFinite:i,object:n,_startTime:r,_duration:s,_r:o,_yoyo:a,_reversed:l}=this;if(!e)return this;let d=i?(o+1)%2===1:!l;return this._reversed=!1,a&&d?this.update(r):this.update(r+s),q(this),this.emit(Si,n)}delay(e){return this._delayTime=typeof e=="function"?e(this._delayTime):e,this}chainedTweens(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(let e=0,i=this._chainedTweensCount;e<i;e++)this[Fe+e]=arguments[e];return this}repeat(e){return this._repeat=this._duration?typeof e=="function"?e(this._repeat):e:0,this._r=this._repeat,this._isFinite=isFinite(e),this}reverseDelay(e){return this._reverseDelayTime=typeof e=="function"?e(this._reverseDelayTime):e,this}yoyo(e,i){return this._yoyo=typeof e=="function"?e(this._yoyo):e===null?this._yoyo:e,e||(this._reversed=!1),this._easingReverse=i||null,this}easing(e){return this._easingFunction=e,this}interpolation(e){return typeof e=="function"&&(this._interpolationFunction=e),this}reassignValues(e){const{_valuesStart:i,object:n,_delayTime:r}=this;this._isPlaying=!0,this._startTime=e!==void 0?e:N(),this._startTime+=r,this._reversed=!1,te(this);for(const s in i){const o=i[s];n[s]=o}return this}update(e,i,n){let{_onStartCallbackFired:r,_easingFunction:s,_interpolationFunction:o,_easingReverse:a,_repeat:l,_delayTime:d,_reverseDelayTime:h,_yoyo:f,_reversed:u,_startTime:m,_prevTime:p,_duration:c,_valuesStart:g,_valuesEnd:_,object:y,_isFinite:w,_isPlaying:T,__render:Z,_chainedTweensCount:Q}=this,v,W,b,Ee=0;if(!c)v=1,l=0;else{e=e!==void 0?e:N();let A=e-p;if(this._prevTime=e,A>yi&&fi()&&gi()&&(e-=A-mi),!T||e<m&&!n)return!0;v=(e-m)/c,v=v>1?1:v,v=u?1-v:v}if(r||(this._rendered||(this.render(),this._rendered=!0),this.emit(wi,y),this._onStartCallbackFired=!0),W=u&&a||s,!y)return!0;for(b in _){const A=g[b];if(A==null&&!(I[b]&&I[b].update))continue;const x=_[b],R=W[b]?W[b](v):typeof W=="function"?W(v):he(v),at=o[b]?o[b]:typeof o=="function"?o:E.Linear;typeof x=="number"?y[b]=A+(x-A)*R:Array.isArray(x)&&!x.isString&&!Array.isArray(A)?y[b]=at(x,R,y[b]):x&&x.update?x.update(R):typeof x=="function"?y[b]=x(R):typeof x=="string"&&typeof A=="number"?y[b]=A+parseFloat(x[0]+x.substr(2))*R:ge(b,y,g,_,R,v),I[b]&&I[b].update&&I[b].update.call(this,y[b],A,x,R,v,b),Ee++}if(!Ee)return q(this),!1;if(Z&&L.Renderer&&L.Renderer.update&&L.Renderer.update.call(this,y,v),this.emit(bi,y,v,e),v===1||u&&v===0)if(l>0&&c>0){if(w&&this._repeat--,f)this._reversed=!u;else for(b in _){let A=_[b];typeof A=="string"&&typeof g[b]=="number"&&(g[b]+=parseFloat(A[0]+A.substr(2)))}return this.emit(f&&!u?vi:Ai,y),u&&h?this._startTime=e-h:this._startTime=e+d,!0}else{if(i||(this._isPlaying=!1,q(this),ke--),this.emit(_i,y),this._repeat=this._r,Q)for(let A=0;A<Q;A++)this[Fe+A].start(e+c);return!1}return!0}}const me=new At(-1e7,-1e6),ye=Ft(!1),ki=t=>{ye.value=!0,t.preventDefault(),me.x=t.clientX/window.innerWidth*2-1,me.y=-(t.clientY/window.innerHeight)*2+1};document.addEventListener("click",ki,!1);const Re=new vt;let be=null;const Be=t=>{be=new L(G.rotation).to({y:t},300).easing(j.Back.InOut).start()},st=()=>{if(C.children[2]){Re.setFromCamera(me,O);const t=Re.intersectObject(C.children[2],!0);t[0]&&ye.value&&((t[0].object.parent.name==="\u5DE6\u524D\u95E8"||t[0].object.name==="LFSprite")&&(G.flag?(Be(0),G.flag=!1):(Be(-Math.sin(Math.PI/2)),G.flag=!0)),(t[0].object.parent.name==="\u5DE6\u540E\u95E8"||t[0].object.name==="LBSprite")&&(F.flag?(F.rotateY(Math.sin(Math.PI/2)),F.flag=!1):(F.rotateY(-Math.sin(Math.PI/2)),F.flag=!0)),ye.value=!1)}C.rotateY(5e-4),be&&be.update(),H.render(C,O),k.render(C,O),requestAnimationFrame(st)},rt=new xt,Ne=new qe(rt),Ve=new qe(rt),ot=new Et;ot.load("./audio/open.wav",t=>{Ne.setBuffer(t),Ne.setVolume(1)});ot.load("./audio/close.wav",t=>{Ve.setBuffer(t),Ve.setVolume(1)});const Ri={id:"BYD"},Bi=Gt('<div class="mark" data-v-fdb07f10><div class="des" data-v-fdb07f10><div class="title" data-v-fdb07f10>\u524D\u8138\u8BBE\u8BA1</div><div class="text" data-v-fdb07f10>\u524D\u8138\u7EBA\u9524\u5F0F\u7684\u4E2D\u7F51\u683C\u6805\u8BBE\u8BA1</div><div class="text" data-v-fdb07f10>\u642D\u914D\u4E24\u4FA7\u72ED\u957F\u7280\u5229\u7684\u5927\u706F\u9020\u578B</div></div></div><div class="mark" data-v-fdb07f10><div class="des" data-v-fdb07f10><div class="text" data-v-fdb07f10>\u5168\u65B0\u6DF7\u52A8\u79D1\u6280\uFF0CFYRA\u56DB\u9A71\u52A8\u529B\u7CFB\u7EDF</div></div></div><div id="car" data-v-fdb07f10></div>',3),Ni=Ht("\u67E5\u770B\u5185\u9970"),Vi={id:"color"},Gi={setup(t){const e=r=>{P.traverse(s=>{s.type==="Mesh"&&s.name.slice(0,2)==="\u5916\u58F3"&&s.material.color.set(r)})},i=()=>{Dt.push("/360")},n=r=>{e([145681,2236962,6947594,0,16777215,3605049][r])};return Pt(()=>{const r=new Ue({map:new ze().load("https://photo-sphere-viewer-data.netlify.app/assets/sphere.jpg")}),s=1e3,o=new we(new Ct(s,s,s),r);o.geometry.scale(-1,1,1),C.add(o);const a=new St(250);C.add(a),C.add(P);const l=new Le(16777215,.8);l.position.set(400,200,300),C.add(l);const d=new Le(16777215,.8);d.position.set(-400,-200,-300),C.add(d);const h=new Lt(16777215,1);C.add(h);const f=new Mt(16777215);f.position.set(400,200,300),C.add(f);const u=document.getElementById("car");u&&u.appendChild(k.domElement);const m=()=>{k.setSize(window.innerWidth,window.innerHeight),O.aspect=window.innerWidth/(window.innerHeight-50),O.updateProjectionMatrix()};window.addEventListener("resize",m,!1),st()}),Ot(()=>{const r=document.getElementsByClassName("mark");for(let s=0;s<r.length;s++)r[s].style.visibility="hidden"}),(r,s)=>{const o=kt("el-button");return Rt(),Bt("div",Ri,[Bi,Nt(o,{onClick:i,class:"switch"},{default:Vt(()=>[Ni]),_:1}),B("div",Vi,[B("div",{onClick:s[0]||(s[0]=a=>n(0)),class:"colorChoose green"}),B("div",{onClick:s[1]||(s[1]=a=>n(1)),class:"colorChoose gray"}),B("div",{onClick:s[2]||(s[2]=a=>n(2)),class:"colorChoose red"}),B("div",{onClick:s[3]||(s[3]=a=>n(3)),class:"colorChoose black"}),B("div",{onClick:s[4]||(s[4]=a=>n(4)),class:"colorChoose white"}),B("div",{onClick:s[5]||(s[5]=a=>n(5)),class:"colorChoose pink"})])])}}};var qi=It(Gi,[["__scopeId","data-v-fdb07f10"]]);export{qi as default};
//# sourceMappingURL=Model.068d4255.js.map
